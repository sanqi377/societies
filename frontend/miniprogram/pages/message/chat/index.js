"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ajax = require('../../../utils/util').ajax;
var _a = getApp().globalData, io = _a.io, monitor = _a.monitor;
Page({
    data: {
        data: {
            message: '',
            send: '',
            accept: '',
            type: 'private',
            create_time: 0,
            fid: 0
        },
        info: {
            s_avatar: '',
            a_avatar: '',
            a_name: ''
        },
        uid: 0,
        message: []
    },
    getInput: function (e) {
        var _a;
        this.setData((_a = {},
            _a['data.message'] = e.detail.value,
            _a));
    },
    send: function () {
        var _a;
        var _this = this;
        this.setData((_a = {},
            _a['data.create_time'] = Date.parse((new Date())) / 1000,
            _a));
        io.send({
            data: JSON.stringify(this.data.data),
            success: function () {
                var _a;
                _this.setData((_a = {},
                    _a['data.message'] = '',
                    _a));
            }
        });
    },
    onLoad: function (e) {
        var _a;
        var _this = this;
        var uid = wx.getStorageSync('uid');
        this.setData((_a = {},
            _a['data.accept'] = e.accept,
            _a['data.send'] = e.send,
            _a['data.fid'] = e.fid,
            _a), function () {
            var send = uid == _this.data.data.send ? _this.data.data.send : _this.data.data.accept;
            var accept = uid == _this.data.data.send ? _this.data.data.accept : _this.data.data.send;
            ajax('message/getAvatar', { uid: send, accept: accept }).then(function (res) {
                var _a;
                _this.setData((_a = {},
                    _a['info.s_avatar'] = res.data.data.s_avatar,
                    _a['info.a_avatar'] = res.data.data.a_avatar,
                    _a['info.a_name'] = res.data.data.a_name,
                    _a));
            });
            ajax('message/updateUnread', { fid: _this.data.data.fid, send: _this.data.data.send });
        });
        monitor(function (res) {
            var msg = JSON.parse(res);
            console.log(msg);
            if (msg.send === _this.data.data.send && msg.accept === _this.data.data.accept) {
                _this.data.message.push(msg);
                _this.setData({
                    message: _this.data.message,
                }, function () {
                    var toView = "msg-" + (_this.data.message.length - 1);
                    _this.setData({
                        toView: toView
                    });
                });
            }
            if (msg.send === _this.data.data.accept && msg.accept === _this.data.data.send) {
                _this.data.message.push(msg);
                _this.setData({
                    message: _this.data.message,
                }, function () {
                    var toView = "msg-" + (_this.data.message.length - 1);
                    _this.setData({
                        toView: toView
                    });
                });
            }
            ajax('message/updateUnread', { fid: _this.data.data.fid, send: _this.data.data.send });
        });
    },
    getHistoryMsg: function () {
        var _this = this;
        ajax('message/getHistoryMsg', { fid: this.data.data.fid }).then(function (res) {
            _this.setData({
                message: res.data.data
            }, function () {
                var toView = "msg-" + (res.data.data.length - 1);
                _this.setData({
                    toView: toView
                });
            });
        });
    },
    onReady: function () {
    },
    onShow: function () {
        this.getHistoryMsg();
    },
    onHide: function () {
    },
    onUnload: function () {
    },
    onPullDownRefresh: function () {
    },
    onReachBottom: function () {
    },
    onShareAppMessage: function () {
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNRLElBQUEsSUFBSSxHQUFLLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxLQUFuQyxDQUFtQztBQUN6QyxJQUFBLEtBQWtCLE1BQU0sRUFBRSxDQUFDLFVBQVUsRUFBbkMsRUFBRSxRQUFBLEVBQUUsT0FBTyxhQUF3QixDQUFBO0FBQzNDLElBQUksQ0FBQztJQUNILElBQUksRUFBRTtRQUNKLElBQUksRUFBRTtZQUNKLE9BQU8sRUFBRSxFQUFFO1lBQ1gsSUFBSSxFQUFFLEVBQUU7WUFDUixNQUFNLEVBQUUsRUFBRTtZQUNWLElBQUksRUFBRSxTQUFTO1lBQ2YsV0FBVyxFQUFFLENBQUM7WUFDZCxHQUFHLEVBQUUsQ0FBQztTQUNQO1FBQ0QsSUFBSSxFQUFFO1lBQ0osUUFBUSxFQUFFLEVBQUU7WUFDWixRQUFRLEVBQUUsRUFBRTtZQUNaLE1BQU0sRUFBRSxFQUFFO1NBQ1g7UUFDRCxHQUFHLEVBQUUsQ0FBQztRQUNOLE9BQU8sRUFBRSxFQUFjO0tBQ3hCO0lBTUQsUUFBUSxFQUFSLFVBQVMsQ0FBTTs7UUFDYixJQUFJLENBQUMsT0FBTztZQUNWLEdBQUMsY0FBYyxJQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSztnQkFDaEMsQ0FBQTtJQUNKLENBQUM7SUFLRCxJQUFJLEVBQUo7O1FBQUEsaUJBWUM7UUFYQyxJQUFJLENBQUMsT0FBTztZQUNWLEdBQUMsa0JBQWtCLElBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQVEsQ0FBQyxHQUFHLElBQUk7Z0JBQzVELENBQUE7UUFDRixFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ04sSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDcEMsT0FBTyxFQUFFOztnQkFDUCxLQUFJLENBQUMsT0FB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Q0osQ0FBQztJQUtELE9BQU87SUFFUCxDQUFDO0lBS0QsTUFBTTtRQUNKLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQTtJQUN0QixDQUFDO0lBS0QsTUFBTTtJQUVOLENBQUM7SUFLRCxRQUFRO0lBRVIsQ0FBQztJQUtELGlCQUFpQjtJQUVqQixDQUFDO0lBS0QsYUFBYTtJQUViLENBQUM7SUFLRCxpQkFBaUI7SUFFakIsQ0FBQztDQUNGLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IH1cclxuY29uc3QgeyBhamF4IH0gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscy91dGlsJylcclxuY29uc3QgeyBpbywgbW9uaXRvciB9ID0gZ2V0QXBwKCkuZ2xvYmFsRGF0YVxyXG5QYWdlKHtcclxuICBkYXRhOiB7XHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIG1lc3NhZ2U6ICcnLCAvLyDmtojmga8sXHJcbiAgICAgIHNlbmQ6ICcnLCAvLyDlj5HpgIHkurpcclxuICAgICAgYWNjZXB0OiAnJywgLy8g5o6l5pS25Lq6XHJcbiAgICAgIHR5cGU6ICdwcml2YXRlJywgLy8g5raI5oGv57G75Z6LXHJcbiAgICAgIGNyZWF0ZV90aW1lOiAwLFxyXG4gICAgICBmaWQ6IDBcclxuICAgIH0sXHJcbiAgICBpbmZvOiB7XHJcbiAgICAgIHNfYXZhdGFyOiAnJyxcclxuICAgICAgYV9hdmF0YXI6ICcnLFxyXG4gICAgICBhX25hbWU6ICcnXHJcbiAgICB9LFxyXG4gICAgdWlkOiAwLFxyXG4gICAgbWVzc2FnZTogW10gYXMgc3RyaW5nW11cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bovpPlhaXmoYblhoXlrrlcclxuICAgKiBAcGFyYW0gZSBcclxuICAgKi9cclxuICBnZXRJbnB1dChlOiBhbnkpIHtcclxuICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgIFsnZGF0YS5tZXNzYWdlJ106IGUuZGV0YWlsLnZhbHVlXHJcbiAgICB9KVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOWPkemAgea2iOaBr1xyXG4gICAqL1xyXG4gIHNlbmQoKSB7XHJcbiAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICBbJ2RhdGEuY3JlYXRlX3RpbWUnXTogRGF0ZS5wYXJzZSgobmV3IERhdGUoKSkgYXMgYW55KSAvIDEwMDBcclxuICAgIH0pXHJcbiAgICBpby5zZW5kKHtcclxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLmRhdGEpLFxyXG4gICAgICBzdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgIFsnZGF0YS5tZXNzYWdlJ106ICcnXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9LFxyXG5cclxuICBvbkxvYWQoZSkge1xyXG4gICAgbGV0IHVpZCA9IHd4LmdldFN0b3JhZ2VTeW5jKCd1aWQnKVxyXG4gICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgWydkYXRhLmFjY2VwdCddOiBlLmFjY2VwdCxcclxuICAgICAgWydkYXRhLnNlbmQnXTogZS5zZW5kLFxyXG4gICAgICBbJ2RhdGEuZmlkJ106IGUuZmlkLFxyXG4gICAgfSwgKCkgPT4ge1xyXG4gICAgICBsZXQgc2VuZCA9IHVpZCA9PSB0aGlzLmRhdGEuZGF0YS5zZW5kID8gdGhpcy5kYXRhLmRhdGEuc2VuZCA6IHRoaXMuZGF0YS5kYXRhLmFjY2VwdFxyXG4gICAgICBsZXQgYWNjZXB0ID0gdWlkID09IHRoaXMuZGF0YS5kYXRhLnNlbmQgPyB0aGlzLmRhdGEuZGF0YS5hY2NlcHQgOiB0aGlzLmRhdGEuZGF0YS5zZW5kXHJcbiAgICAgIGFqYXgoJ21lc3NhZ2UvZ2V0QXZhdGFyJywgeyB1aWQ6IHNlbmQsIGFjY2VwdCB9KS50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgICBbJ2luZm8uc19hdmF0YXInXTogcmVzLmRhdGEuZGF0YS5zX2F2YXRhcixcclxuICAgICAgICAgIFsnaW5mby5hX2F2YXRhciddOiByZXMuZGF0YS5kYXRhLmFfYXZhdGFyLFxyXG4gICAgICAgICAgWydpbmZvLmFfbmFtZSddOiByZXMuZGF0YS5kYXRhLmFfbmFtZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICAgIGFqYXgoJ21lc3NhZ2UvdXBkYXRlVW5yZWFkJywgeyBmaWQ6IHRoaXMuZGF0YS5kYXRhLmZpZCwgc2VuZDogdGhpcy5kYXRhLmRhdGEuc2VuZCB9KVxyXG4gICAgfSlcclxuICAgIC8qKlxyXG4gICAgICog55uR5ZCs5pyN5Yqh56uv5raI5oGv6L+U5ZueXHJcbiAgICAgKi9cclxuICAgIG1vbml0b3IoKHJlczogYW55KSA9PiB7XHJcbiAgICAgIGxldCBtc2cgPSBKU09OLnBhcnNlKHJlcylcclxuICAgICAgY29uc29sZS5sb2cobXNnKVxyXG4gICAgICBpZiAobXNnLnNlbmQgPT09IHRoaXMuZGF0YS5kYXRhLnNlbmQgJiYgbXNnLmFjY2VwdCA9PT0gdGhpcy5kYXRhLmRhdGEuYWNjZXB0KSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLm1lc3NhZ2UucHVzaChtc2cpXHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuZGF0YS5tZXNzYWdlLFxyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgIGxldCB0b1ZpZXcgPSBgbXNnLSR7dGhpcy5kYXRhLm1lc3NhZ2UubGVuZ3RoIC0gMX1gXHJcbiAgICAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgICAgICB0b1ZpZXdcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBpZiAobXNnLnNlbmQgPT09IHRoaXMuZGF0YS5kYXRhLmFjY2VwdCAmJiBtc2cuYWNjZXB0ID09PSB0aGlzLmRhdGEuZGF0YS5zZW5kKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLm1lc3NhZ2UucHVzaChtc2cpXHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuZGF0YS5tZXNzYWdlLFxyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgIGxldCB0b1ZpZXcgPSBgbXNnLSR7dGhpcy5kYXRhLm1lc3NhZ2UubGVuZ3RoIC0gMX1gXHJcbiAgICAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgICAgICB0b1ZpZXdcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBhamF4KCdtZXNzYWdlL3VwZGF0ZVVucmVhZCcsIHsgZmlkOiB0aGlzLmRhdGEuZGF0YS5maWQsIHNlbmQ6IHRoaXMuZGF0YS5kYXRhLnNlbmQgfSlcclxuICAgIH0pXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5Y6G5Y+y5raI5oGvXHJcbiAgICovXHJcbiAgZ2V0SGlzdG9yeU1zZygpIHtcclxuICAgIGFqYXgoJ21lc3NhZ2UvZ2V0SGlzdG9yeU1zZycsIHsgZmlkOiB0aGlzLmRhdGEuZGF0YS5maWQgfSkudGhlbigocmVzOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5kYXRhXHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICBsZXQgdG9WaWV3ID0gYG1zZy0ke3Jlcy5kYXRhLmRhdGEubGVuZ3RoIC0gMX1gXHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgIHRvVmlld1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5Yid5qyh5riy5p+T5a6M5oiQXHJcbiAgICovXHJcbiAgb25SZWFkeSgpIHtcclxuICAgIC8vIHdsZWNvbWUoeyBzZW5kOiB0aGlzLmRhdGEuZGF0YS5zZW5kLCB0eXBlOiAnd2VsY29tZScgfSlcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnlJ/lkb3lkajmnJ/lh73mlbAtLeebkeWQrOmhtemdouaYvuekulxyXG4gICAqL1xyXG4gIG9uU2hvdygpIHtcclxuICAgIHRoaXMuZ2V0SGlzdG9yeU1zZygpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog55Sf5ZG95ZGo5pyf5Ye95pWwLS3nm5HlkKzpobXpnaLpmpDol49cclxuICAgKi9cclxuICBvbkhpZGUoKSB7XHJcblxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5Y246L29XHJcbiAgICovXHJcbiAgb25VbmxvYWQoKSB7XHJcblxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOmhtemdouebuOWFs+S6i+S7tuWkhOeQhuWHveaVsC0t55uR5ZCs55So5oi35LiL5ouJ5Yqo5L2cXHJcbiAgICovXHJcbiAgb25QdWxsRG93blJlZnJlc2goKSB7XHJcblxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOmhtemdouS4iuaLieinpuW6leS6i+S7tueahOWkhOeQhuWHveaVsFxyXG4gICAqL1xyXG4gIG9uUmVhY2hCb3R0b20oKSB7XHJcblxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOeUqOaIt+eCueWHu+WPs+S4iuinkuWIhuS6q1xyXG4gICAqL1xyXG4gIG9uU2hhcmVBcHBNZXNzYWdlKCkge1xyXG5cclxuICB9XHJcbn0pIl19